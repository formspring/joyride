(function(b){b.fn.joyride=function(g){var a={tipLocation:"bottom",scrollSpeed:300,timer:0,startTimerOnClick:false,nextButton:true,tipAnimation:"pop",tipAnimationFadeSpeed:300,cookieMonster:false,cookieName:"JoyRide",cookieDomain:false,tipContainer:"body",inline:false,tipContent:"#joyRideTipContent"},g=b.extend(a,g);return this.each(function(){if(b(g.tipContent).length!==0){b(g.tipContent).hide();var c=b(g.tipContainer).children("*").first().position(),i=b(g.tipContent+" li"),h=skipCount=0,f=-1,m,
n=function(a,c,e,f){return'<div class="joyride-tip-guide '+a+'" id="joyRidePopup'+c+'"><span class="joyride-nub"></span>'+b(f).html()+e+'<a href="#close" class="joyride-close-tip">X</a>'+m+"</div>"},l=function(d,c,e,f){if(c==0&&a.startTimerOnClick&&a.timer>0||a.timer==0)m="";d||(d="");e!=""?e='<a href="#" class="joyride-next-tip small nice radius yellow button">'+e+"</a>":e="";a.inline?b(n(d,c,e,f)).insertAfter(b(f).attr("data-selector")):b(g.tipContainer).append(n(d,c,e,f))};(!a.cookieMonster||!b.cookie(a.cookieName))&&
i.each(function(d){var c=b(this).attr("data-text"),e=b(this).attr("class");a.nextButton&&c==void 0&&(c="Next");a.nextButton||!a.nextButton&&a.startTimerOnClick?b(this).attr("class")?l(e,d,c,this):l(false,d,c,this):a.nextButton||(b(this).attr("class")?l(e,d,"",this):l(false,d,"",this));b("#joyRidePopup"+d).hide()});showNextTip=function(){var d=b(i[h]).attr("data-selector"),g=b(d);g.offset()===null&&(h++,skipCount++,f++,d=b(i[h]).attr("data-selector"),g=b(d));var d=Math.ceil(b(window).height()/2),e=
b("#joyRidePopup"+h),k=g.offset(),g=g.height()+10,j=e.height()+4,l=0;e.length!==0&&(h<i.length?(a.tipAnimation=="pop"?(b(".joyride-timer-indicator").width(0),a.timer>0?e.show().children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:"100%"},a.timer):e.show()):a.tipAnimation=="fade"&&(b(".joyride-timer-indicator").width(0),a.timer>0?e.fadeIn(a.tipAnimationFadeSpeed).children(".joyride-timer-indicator-wrap").children(".joyride-timer-indicator").animate({width:"100%"},
a.timer):e.fadeIn(a.tipAnimationFadeSpeed)),a.tipLocation=="bottom"?(e.offset({top:k.top+g+14,left:k.left-c.left}),e.children(".joyride-nub").addClass("top").removeClass("bottom")):a.tipLocation=="top"&&(j>=k.top?(e.offset({top:k.top+g+10-c.top,left:k.left-c.left}),e.children(".joyride-nub").addClass("top").removeClass("bottom")):(e.offset({top:k.top-4-(g+j+c.top),left:k.left-c.left}),e.children(".joyride-nub").addClass("bottom").removeClass("top"))),l=Math.ceil(e.offset().top-d),b("html, body").animate({scrollTop:l},
a.scrollSpeed),h>0&&(skipCount>0?(d=f-skipCount,skipCount=0):d=f,a.tipAnimation=="pop"?b("#joyRidePopup"+d).hide():a.tipAnimation=="fade"&&b("#joyRidePopup"+d).fadeOut(a.tipAnimationFadeSpeed))):i.length-1<h&&(skipCount>0?(d=f-skipCount,skipCount=0):d=f,a.cookieMonster==true&&b.cookie(a.cookieName,"ridden",{expires:365,domain:a.cookieDomain}),a.tipAnimation=="pop"?b("#joyRidePopup"+d).fadeTo(0,0):a.tipAnimation=="fade"&&b("#joyRidePopup"+d).fadeTo(a.tipAnimationFadeSpeed,0)),h++,f<0?f=0:f++)};(!a.inline||
!a.cookieMonster||!b.cookie(a.cookieName))&&b(window).resize(function(){var d=b(i[f]).attr("data-selector"),d=b(d);currentTipPosition=d.offset();currentParentHeight=d.height();currentTipHeight=b("#joyRidePopup"+f).height();a.tipLocation=="bottom"?b("#joyRidePopup"+f).offset({top:currentTipPosition.top+currentParentHeight+20,left:currentTipPosition.left}):a.tipLocation=="top"&&(currentTipPosition.top<=currentTipHeight?b("#joyRidePopup"+f).offset({top:currentTipPosition.top+currentParentHeight+20,left:currentTipPosition.left}):
b("#joyRidePopup"+f).offset({top:currentTipPosition.top-(currentTipHeight+currentParentHeight),left:currentTipPosition.left}))});var j=null;!a.startTimerOnClick&&a.timer>0?(showNextTip(),j=setInterval(function(){showNextTip()},a.timer)):showNextTip();var o=function(d,c,e,f){d.preventDefault();clearInterval(c);e&&b.cookie(a.cookieName,"ridden",{expires:365,domain:a.cookieDomain});b(f).parent().hide()};b(".joyride-close-tip").click(function(b){o(b,j,a.cookieMonster,this)});b(".joyride-next-tip").click(function(b){b.preventDefault();
h>=i.length&&o(b,j,a.cookieMonster,this);a.timer>0&&a.startTimerOnClick?(showNextTip(),clearInterval(j),j=setInterval(function(){showNextTip()},a.timer)):a.timer>0&&!a.startTimerOnClick?(clearInterval(j),j=setInterval(function(){showNextTip()},a.timer)):showNextTip()})}})};jQuery.cookie=function(b,a,c){if(arguments.length>1&&String(a)!=="[object Object]"){c=jQuery.extend({},c);if(a===null||a===void 0)c.expires=-1;if(typeof c.expires==="number"){var i=c.expires,h=c.expires=new Date;h.setDate(h.getDate()+
i)}a=String(a);return document.cookie=[encodeURIComponent(b),"=",c.raw?a:encodeURIComponent(a),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=a||{};h=c.raw?function(a){return a}:decodeURIComponent;return(i=RegExp("(?:^|; )"+encodeURIComponent(b)+"=([^;]*)").exec(document.cookie))?h(i[1]):null}})(jQuery);